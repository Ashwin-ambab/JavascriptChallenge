<script>
    const users = [];

    class person{
        constructor(first,last,mobileNumber){
            this.firstName = first;
            this.lastName = last;
            this.mobileNumber = mobileNumber;
        }

        fullName = (firstName,lastName) => {
            return `${firstName} ${lastName}`;
        }
    }

    createPerson = (firstName,lastName,mobileNumber) => {
        return new Promise((resolve,reject) => {
            setTimeout(() => {
                if(users.some(user => user
                .mobileNumber === mobileNumber)){
                    reject("phone number already exists");
                }
                else{
                    const object = new person(firstName,lastName,mobileNumber)
                    let personData = {firstName:object.firstName , lastName:object.lastName , mobileNumber:object.mobileNumber}
                    users.push(personData);
                    resolve(object.fullName(firstName,lastName));
                }
                
            },2000);

        }
    )} 

    const main = () => {
        createPerson("Ashwin", "Gupta" , 123456)
        .then((data) => console.log(data))
        .catch((error) => console.log(error))

        createPerson("Ashish", "Kumar" , 12345612)
        .then((data) => console.log(data))
        .catch((error) => console.log(error))

        createPerson("Akash", "sahani" , 12345645)
        .then((data) => console.log(data))
        .catch((error) => console.log(error))

        createPerson("Ashwin", "Gupta" , 123456)
        .then((data) => console.log(data))
        .catch((error) => console.log(error))

        createPerson("Ashish", "Singh" , 12345612)
        .then((data) => console.log(data))
        .catch((error) => console.log(error))

        createPerson("Anand", "PEddaram" , 12345621)
        .then((data) => console.log(data))
        .catch((error) => console.log(error))

        createPerson("Ashwin", "Gupta" , 123456)
        .then((data) => console.log(data))
        .catch((error) => console.log(error))

        createPerson("Ashwin", "Gupta" , 12345621)
        .then((data) => console.log(data))
        .catch((error) => console.log(error))

        createPerson("Ashwin", "Gupta" , 1234561242)
        .then((data) => console.log(data))
        .catch((error) => console.log(error))

        createPerson("Ashwin", "Gupta" , 123456)
        .then((data) => console.log(data))
        .catch((error) => console.log(error))

        createPerson("Ashwin", "Gupta" , 123456)
        .then((data) => console.log(data))
        .catch((error) => console.log(error))

        
    }

    main();
</script>